# スペーシングシステム

このドキュメントでは、デザインシステムのスペーシングシステムとその使用ルールを定義します。一貫性のあるレイアウトとコンポーネント間の適切な空間を確保するため、このスペーシングシステムに従ってください。

## 1. 基本原則

- **一貫性**: スペーシングは一貫したスケールに基づいて定義され、ランダムな値は使用しない
- **リズム**: 視覚的なリズムを生み出すために、調和のとれたスペーシングの増分を使用する
- **階層**: 関連する要素間には狭いスペース、異なるセクション間には広いスペースを使用する
- **柔軟性**: 様々な画面サイズに適応できる相対的なスペーシングを優先する
- **可読性**: 適切なスペーシングによって、コンテンツの読みやすさと情報の階層を強化する

## 2. スペーシングスケール

スペーシングは 8px を基本単位とする等比数列（1.5 倍）で定義されます。これにより視覚的に心地よいリズムを生み出します。

| 名前     | 値（px） | 値（rem） | 用途                                   |
| -------- | -------- | --------- | -------------------------------------- |
| space-0  | 0        | 0         | スペースなし                           |
| space-1  | 4px      | 0.25rem   | 非常に狭いスペース、アイコンの内部余白 |
| space-2  | 8px      | 0.5rem    | 基本単位、関連要素間の間隔             |
| space-3  | 12px     | 0.75rem   | フォーム要素内の余白                   |
| space-4  | 16px     | 1rem      | コンポーネント内部の標準余白           |
| space-5  | 24px     | 1.5rem    | 関連コンポーネント間のスペース         |
| space-6  | 32px     | 2rem      | 関連性の低いコンポーネント間           |
| space-7  | 48px     | 3rem      | セクション間の間隔                     |
| space-8  | 64px     | 4rem      | 大きなセクション間の間隔               |
| space-9  | 96px     | 6rem      | 主要なページセクション間の間隔         |
| space-10 | 128px    | 8rem      | 非常に大きな区切り                     |

## 3. インセット（内部余白）

要素の内部余白を定義するためのプリセットです。

| 名前             | 値                                       | 用途                                   |
| ---------------- | ---------------------------------------- | -------------------------------------- |
| inset-0          | 0                                        | 余白なし                               |
| inset-xs         | space-1 (4px) 全方向                     | 非常に小さい要素、アイコンボタン       |
| inset-sm         | space-2 (8px) 全方向                     | 小さなコンポーネント                   |
| inset-md         | space-4 (16px) 全方向                    | 標準コンポーネント、カード             |
| inset-lg         | space-6 (32px) 全方向                    | 大きなコンポーネント、モーダル         |
| inset-xl         | space-8 (64px) 全方向                    | 特大コンポーネント、ヒーローセクション |
| inset-squish-xs  | space-1 (4px) 垂直、space-2 (8px) 水平   | 低いボタン                             |
| inset-squish-sm  | space-2 (8px) 垂直、space-3 (12px) 水平  | 標準ボタン                             |
| inset-squish-md  | space-3 (12px) 垂直、space-4 (16px) 水平 | 大きめのボタン、フォーム要素           |
| inset-stretch-sm | space-3 (12px) 垂直、space-2 (8px) 水平  | テキスト入力                           |
| inset-stretch-md | space-4 (16px) 垂直、space-3 (12px) 水平 | テキストエリア                         |

## 4. スタック（垂直方向のスペーシング）

垂直方向に並ぶ要素間のスペーシングを定義します。

| 名前      | 値             | 用途                     |
| --------- | -------------- | ------------------------ |
| stack-xxs | space-1 (4px)  | 非常に密接な関係の要素間 |
| stack-xs  | space-2 (8px)  | ラベルとフォーム要素など |
| stack-sm  | space-3 (12px) | リスト項目間             |
| stack-md  | space-4 (16px) | 段落間、フォーム要素間   |
| stack-lg  | space-6 (32px) | 関連セクション間         |
| stack-xl  | space-8 (64px) | 主要セクション間         |
| stack-xxl | space-9 (96px) | ページセクション間       |

## 5. インライン（水平方向のスペーシング）

水平方向に並ぶ要素間のスペーシングを定義します。

| 名前       | 値             | 用途                                   |
| ---------- | -------------- | -------------------------------------- |
| inline-xxs | space-1 (4px)  | アイコンとテキスト間                   |
| inline-xs  | space-2 (8px)  | 密接な関係の要素間                     |
| inline-sm  | space-3 (12px) | ボタングループ、フォーム要素のグループ |
| inline-md  | space-4 (16px) | 標準的な要素間                         |
| inline-lg  | space-6 (32px) | 関連性の低い要素間                     |
| inline-xl  | space-8 (64px) | 主要セクション間の水平スペース         |

## 6. コンテナの最大幅

レスポンシブデザインのためのコンテナ最大幅を定義します。

| 名前          | 値     | 用途                         |
| ------------- | ------ | ---------------------------- |
| container-xs  | 480px  | 非常に小さなコンテンツ       |
| container-sm  | 640px  | 小さなコンテンツ、ダイアログ |
| container-md  | 768px  | 中程度のコンテンツ、フォーム |
| container-lg  | 1024px | 標準的なコンテンツ領域       |
| container-xl  | 1280px | 大きなコンテンツ領域         |
| container-xxl | 1440px | 最大コンテンツ幅             |

## 7. レスポンシブ対応

画面サイズに応じたスペーシングの調整を行います。

### 7.1 モバイル向け縮小

小さな画面では、スペーシングを 80%に縮小することを推奨します。

```css
:root {
  --scale: 1;
}

@media (max-width: 768px) {
  :root {
    --scale: 0.8;
  }

  /* スケーリングの適用 */
  .space-4 {
    margin: calc(var(--space-4) * var(--scale));
  }
}
```

### 7.2 コンテナの余白

コンテナとビューポート端の間には、画面サイズに応じた余白を確保します。

| 画面サイズ                 | 余白           |
| -------------------------- | -------------- |
| モバイル (< 480px)         | space-3 (12px) |
| タブレット (480px - 768px) | space-4 (16px) |
| デスクトップ (> 768px)     | space-6 (32px) |

```css
.container {
  padding-left: var(--space-3);
  padding-right: var(--space-3);
}

@media (min-width: 480px) {
  .container {
    padding-left: var(--space-4);
    padding-right: var(--space-4);
  }
}

@media (min-width: 768px) {
  .container {
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }
}
```

## 8. グリッドシステム

スペーシングスケールに基づくグリッドシステムを使用します。

### 8.1 ベースとなるグリッド

- 基本グリッドユニット: 8px (space-2)
- 標準カラム間隔: 16px (space-4) または 24px (space-5)
- 標準的な 12 カラムグリッド構造

### 8.2 グリッドのブレークポイント

| 名前 | サイズ          | 用途                               |
| ---- | --------------- | ---------------------------------- |
| xs   | < 480px         | モバイル端末                       |
| sm   | 480px - 767px   | 大きめのモバイル、小さいタブレット |
| md   | 768px - 1023px  | タブレット、小さいデスクトップ     |
| lg   | 1024px - 1279px | デスクトップ                       |
| xl   | 1280px - 1439px | 大きなデスクトップ                 |
| xxl  | ≥ 1440px        | 超大画面                           |

## 9. 実装例

### 9.1 CSS カスタムプロパティでの実装

```css
:root {
  /* スペーシングスケール */
  --space-0: 0;
  --space-1: 0.25rem; /* 4px */
  --space-2: 0.5rem; /* 8px */
  --space-3: 0.75rem; /* 12px */
  --space-4: 1rem; /* 16px */
  --space-5: 1.5rem; /* 24px */
  --space-6: 2rem; /* 32px */
  --space-7: 3rem; /* 48px */
  --space-8: 4rem; /* 64px */
  --space-9: 6rem; /* 96px */
  --space-10: 8rem; /* 128px */

  /* インセット */
  --inset-xs: var(--space-1);
  --inset-sm: var(--space-2);
  --inset-md: var(--space-4);
  --inset-lg: var(--space-6);
  --inset-xl: var(--space-8);

  /* スカッシュインセット (幅より高さが小さい) */
  --inset-squish-xs: var(--space-1) var(--space-2);
  --inset-squish-sm: var(--space-2) var(--space-3);
  --inset-squish-md: var(--space-3) var(--space-4);

  /* ストレッチインセット (幅より高さが大きい) */
  --inset-stretch-sm: var(--space-3) var(--space-2);
  --inset-stretch-md: var(--space-4) var(--space-3);

  /* スタック（垂直間隔） */
  --stack-xxs: var(--space-1);
  --stack-xs: var(--space-2);
  --stack-sm: var(--space-3);
  --stack-md: var(--space-4);
  --stack-lg: var(--space-6);
  --stack-xl: var(--space-8);
  --stack-xxl: var(--space-9);

  /* インライン（水平間隔） */
  --inline-xxs: var(--space-1);
  --inline-xs: var(--space-2);
  --inline-sm: var(--space-3);
  --inline-md: var(--space-4);
  --inline-lg: var(--space-6);
  --inline-xl: var(--space-8);

  /* コンテナサイズ */
  --container-xs: 480px;
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
  --container-xxl: 1440px;
}
```

### 9.2 ユーティリティクラスの例

```css
/* マージン */
.m-0 {
  margin: var(--space-0);
}
.m-1 {
  margin: var(--space-1);
}
.m-2 {
  margin: var(--space-2);
}
/* ...以下同様... */

/* パディング */
.p-0 {
  padding: var(--space-0);
}
.p-1 {
  padding: var(--space-1);
}
.p-2 {
  padding: var(--space-2);
}
/* ...以下同様... */

/* 上下左右の方向別マージン */
.mt-0 {
  margin-top: var(--space-0);
}
.mr-0 {
  margin-right: var(--space-0);
}
.mb-0 {
  margin-bottom: var(--space-0);
}
.ml-0 {
  margin-left: var(--space-0);
}
/* ...以下同様... */

/* スタック（垂直方向の間隔） */
.stack-xs > * + * {
  margin-top: var(--stack-xs);
}
.stack-sm > * + * {
  margin-top: var(--stack-sm);
}
.stack-md > * + * {
  margin-top: var(--stack-md);
}
/* ...以下同様... */

/* インライン（水平方向の間隔） */
.inline-xs > * + * {
  margin-left: var(--inline-xs);
}
.inline-sm > * + * {
  margin-left: var(--inline-sm);
}
.inline-md > * + * {
  margin-left: var(--inline-md);
}
/* ...以下同様... */
```

### 9.3 コンポーネントでの使用例

```jsx
// Reactの例
const Card = ({ children, padding = "md", ...props }) => {
  const paddingMap = {
    sm: "p-2",
    md: "p-4",
    lg: "p-6",
  };

  return (
    <div className={`card ${paddingMap[padding]}`} {...props}>
      {children}
    </div>
  );
};

const ButtonGroup = ({ children, spacing = "sm", ...props }) => {
  const spacingMap = {
    xs: "inline-xs",
    sm: "inline-sm",
    md: "inline-md",
  };

  return (
    <div className={`button-group ${spacingMap[spacing]}`} {...props}>
      {children}
    </div>
  );
};
```

## ユーザー入力とカスタマイズ

スペーシングシステムは、ブランドアイデンティティやユーザーニーズに合わせてカスタマイズする必要があります。以下のセクションでは、ユーザーとの対話を通じてスペーシングシステムをカスタマイズするためのプロセスを記録します。

### 主要な質問事項

スペーシングシステムをカスタマイズするために、以下の質問への回答を検討してください：

1. **レイアウトの密度と空間の使い方**

   - デザインの全体的な印象として、より「余白のある（エアリーな）」印象と「密度の高い（コンパクトな）」印象のどちらが望ましいですか？
   - コンテンツの重要性や関連性をスペーシングでどのように表現したいですか？
   - モバイルとデスクトップで異なるスペーシング戦略が必要ですか？

2. **ユーザー体験とアクセシビリティ**

   - ターゲットユーザーに特別な視覚的または運動的ニーズがありますか？（例：タッチターゲットのサイズなど）
   - 高密度の情報表示と余白のバランスについて、優先事項は何ですか？
   - 特定のデバイスやスクリーンサイズに対する最適化が必要ですか？

3. **ブランドと視覚的調和**

   - スペーシングとブランドの性格（フォーマル/カジュアル、伝統的/現代的など）をどのように調和させたいですか？
   - 競合製品と比較して、どのようなスペーシング特性で差別化したいですか？
   - 特定の業界標準やパターンに従う必要がありますか？

4. **技術的要件**
   - レスポンシブデザインの実装方法に特別な要件はありますか？（固定値、相対値、ビューポートに基づく値など）
   - グリッドシステムとスペーシングの関係についての要件はありますか？
   - 既存のコードベースとの互換性に関する制約はありますか？

### ユーザー入力の履歴

| 日付 | 質問領域 | 入力内容 | 反映状況 |
| ---- | -------- | -------- | -------- |
|      |          |          |          |

### スペーシングシステムカスタマイズ計画

ユーザー入力に基づいて、以下のようにスペーシングシステムをカスタマイズしていく計画を記録します：

| 計画項目 | 内容 | 優先度 | ステータス |
| -------- | ---- | ------ | ---------- |
|          |      |        |            |

### スペーシングスケールオプション

ユーザーの要件に基づいて、以下のスペーシングスケールオプションを提案します：

#### オプション 1: [スケール名]

- ベース単位: [サイズ]
- 進行方式: [リニア/指数関数的/フィボナッチなど]
- スケールサンプル: [値のリスト]
- 適したユースケース: [ユースケースの説明]

#### オプション 2: [スケール名]

- ベース単位: [サイズ]
- 進行方式: [リニア/指数関数的/フィボナッチなど]
- スケールサンプル: [値のリスト]
- 適したユースケース: [ユースケースの説明]

### レスポンシブ戦略オプション

ユーザーの要件に基づいて、以下のレスポンシブスペーシング戦略を提案します：

#### オプション 1: [戦略名]

- アプローチ: [固定値スケーリング/ビューポートベース/ハイブリッドなど]
- ブレークポイント: [ブレークポイントの定義]
- スケーリング方法: [スケーリングの説明]
- 適したユースケース: [ユースケースの説明]

#### オプション 2: [戦略名]

- アプローチ: [固定値スケーリング/ビューポートベース/ハイブリッドなど]
- ブレークポイント: [ブレークポイントの定義]
- スケーリング方法: [スケーリングの説明]
- 適したユースケース: [ユースケースの説明]
